" vim:ft=vim

Execute(FloatermNew floaterm ../LICENSE):
  FloatermNew floaterm ../LICENSE
  sleep 1000m
  " strange... why it's the full path in github action?
  Log expand('%')
  Assert match(expand('%'), 'LICENSE') > -1
  " floating window is closed
  for winnr in range(1, winnr('$'))
    Assert empty(nvim_win_get_config(win_getid())['relative'])
  endfor

Execute(FloatermNew cat ../LICENSE | floaterm):
  FloatermNew cat ../LICENSE | floaterm
  sleep 1000m
  " floating window is closed
  for winnr in range(1, winnr('$'))
    Assert empty(nvim_win_get_config(win_getid())['relative'])
  endfor

Execute (Exit):
  stopinsert
  call floaterm#hide(1, 0, '')
  sleep 100m
